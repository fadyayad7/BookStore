{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\fady\\\\Desktop\\\\BookStore\\\\bookStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\fady\\\\Desktop\\\\BookStore\\\\bookStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\fady\\\\Desktop\\\\BookStore\\\\bookStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\fady\\\\Desktop\\\\BookStore\\\\bookStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Card,Table,Image,ButtonGroup,Button}from\"react-bootstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faList,faEdit,faTrash}from\"@fortawesome/free-solid-svg-icons\";import axios from\"axios\";import{store}from\"react-notifications-component\";import{Link}from\"react-router-dom\";var BookList=/*#__PURE__*/function(_Component){_inherits(BookList,_Component);var _super=_createSuper(BookList);function BookList(){var _this;_classCallCheck(this,BookList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={books:[]};_this.componentDidMount=function(){//calling this method to get all books and render them\n_this.getAllBooks();};_this.componentDidUpdate=function(){};_this.getAllBooks=function(){axios.get(\"http://104.171.113.18:10606/api/v1/books/\").then(function(response){return response.data;}).then(function(data){_this.setState({books:data});console.log(_this.state.books);});};_this.handleDelete=function(book_id){axios.delete(\"http://104.171.113.18:10606/api/v1/books/\"+book_id).then(function(response){if(response.data!=null){console.log(\"book deleted successfully!\");//rerender the table\n_this.getAllBooks();//show notification\nstore.addNotification({title:\"Ok ! \",message:\"Book deleted successfully\",type:\"info\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});}});};return _this;}_createClass(BookList,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Card,{className:\"bg-light shadow mt-5 rounded\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Header,{className:\"font-weight-bold text-center\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faList}),\" Here is the list of Books \\uD83D\\uDCDA\\uD83D\\uDE03\"),/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Title\"),/*#__PURE__*/React.createElement(\"th\",null,\"Author\"),/*#__PURE__*/React.createElement(\"th\",null,\"ISBN Number\"),/*#__PURE__*/React.createElement(\"th\",null,\"Language\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.books.length===0?/*#__PURE__*/React.createElement(\"tr\",{align:\"center\"},/*#__PURE__*/React.createElement(\"td\",{colSpan:\"6\"},\"No Books Available \\uD83D\\uDC40\")):this.state.books.map(function(book){return/*#__PURE__*/React.createElement(\"tr\",{key:book.id},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Image,{src:book.coverPhotoURL,roundedCircle:true,width:\"25\",height:\"25\"}),\" \",book.title),/*#__PURE__*/React.createElement(\"td\",null,book.author),/*#__PURE__*/React.createElement(\"td\",null,book.isbnNumber),/*#__PURE__*/React.createElement(\"td\",null,book.language),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(ButtonGroup,null,/*#__PURE__*/React.createElement(Link,{className:\"btn btn-secondary\",to:\"/edit/\"+book.id},/*#__PURE__*/React.createElement(FontAwesomeIcon,{size:\"sm\",icon:faEdit})),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:_this2.handleDelete.bind(_this2,book.id)},/*#__PURE__*/React.createElement(FontAwesomeIcon,{size:\"sm\",icon:faTrash})))));})))));}}]);return BookList;}(Component);export default BookList;","map":{"version":3,"sources":["C:/Users/fady/Desktop/BookStore/bookStore/src/components/BookList.jsx"],"names":["React","Component","Card","Table","Image","ButtonGroup","Button","FontAwesomeIcon","faList","faEdit","faTrash","axios","store","Link","BookList","state","books","componentDidMount","getAllBooks","componentDidUpdate","get","then","response","data","setState","console","log","handleDelete","book_id","delete","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","length","map","book","id","coverPhotoURL","author","isbnNumber","language","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Card, Table, Image, ButtonGroup, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faList, faEdit, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\nimport { store } from \"react-notifications-component\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass BookList extends Component {\r\n  state = {\r\n    books: [],\r\n  };\r\n\r\n  //this method is invoked immedietly after a component\r\n  //is mounted(inserted into the tree)\r\n  componentDidMount = () => {\r\n    //calling this method to get all books and render them\r\n    this.getAllBooks();\r\n  };\r\n\r\n  //this method is invoked immedietly after\r\n  //updating occurs\r\n  componentDidUpdate = () => {};\r\n\r\n  //a method responsibile for getting all books from the server\r\n  getAllBooks = () => {\r\n    axios\r\n      .get(\"http://104.171.113.18:10606/api/v1/books/\")\r\n      .then((response) => response.data)\r\n      .then((data) => {\r\n        this.setState({\r\n          books: data,\r\n        });\r\n        console.log(this.state.books);\r\n      });\r\n  };\r\n\r\n  //hanling delete button\r\n  handleDelete = (book_id) => {\r\n    axios\r\n      .delete(\"http://104.171.113.18:10606/api/v1/books/\" + book_id)\r\n      .then((response) => {\r\n        if (response.data != null) {\r\n          console.log(\"book deleted successfully!\");\r\n\r\n          //rerender the table\r\n          this.getAllBooks();\r\n\r\n          //show notification\r\n          store.addNotification({\r\n            title: \"Ok ! \",\r\n            message: \"Book deleted successfully\",\r\n            type: \"info\",\r\n            insert: \"top\",\r\n            container: \"top-right\",\r\n            animationIn: [\"animated\", \"fadeIn\"],\r\n            animationOut: [\"animated\", \"fadeOut\"],\r\n            dismiss: {\r\n              duration: 5000,\r\n              onScreen: true,\r\n            },\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Card className=\"bg-light shadow mt-5 rounded\">\r\n        <Card.Body>\r\n          <Card.Header className=\"font-weight-bold text-center\">\r\n            <FontAwesomeIcon icon={faList} /> Here is the list of Books ðŸ“šðŸ˜ƒ\r\n          </Card.Header>\r\n          <Table striped bordered hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Author</th>\r\n                <th>ISBN Number</th>\r\n                <th>Language</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.books.length === 0 ? (\r\n                <tr align=\"center\">\r\n                  <td colSpan=\"6\">No Books Available ðŸ‘€</td>\r\n                </tr>\r\n              ) : (\r\n                this.state.books.map((book) => (\r\n                  <tr key={book.id}>\r\n                    <td>\r\n                      <Image\r\n                        src={book.coverPhotoURL}\r\n                        roundedCircle\r\n                        width=\"25\"\r\n                        height=\"25\"\r\n                      />{\" \"}\r\n                      {book.title}\r\n                    </td>\r\n                    <td>{book.author}</td>\r\n                    <td>{book.isbnNumber}</td>\r\n                    <td>{book.language}</td>\r\n                    <td>\r\n                      <ButtonGroup>\r\n                        <Link\r\n                          className=\"btn btn-secondary\"\r\n                          to={\"/edit/\" + book.id}\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            size=\"sm\"\r\n                            icon={faEdit}\r\n                          ></FontAwesomeIcon>\r\n                        </Link>\r\n\r\n                        <Button\r\n                          variant=\"danger\"\r\n                          onClick={this.handleDelete.bind(this, book.id)}\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            size=\"sm\"\r\n                            icon={faTrash}\r\n                          ></FontAwesomeIcon>\r\n                        </Button>\r\n                      </ButtonGroup>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </Table>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookList;\r\n"]},"metadata":{},"sourceType":"module"}